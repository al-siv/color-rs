# color-rs

CLI-утилита для работы с цветовыми градиентами в цветовом пространстве LAB.

## Описание

`color-rs` - это инструмент командной строки, который позволяет создавать сглаженные цветовые градиенты между двумя цветами, используя цветовое пространство LAB для более точных и визуально приятных переходов.

### Особенности

- **Цветовое пространство LAB**: Все вычисления выполняются в перцептуально-однородном цветовом пространстве LAB
- **Сглаженные градиенты**: Использует сплайн-подобную интерполяцию для естественных переходов
- **Гибкие настройки**: Настраиваемые коэффициенты сглаживания и напряжения кривой
- **Точное позиционирование**: Задание начальной и конечной позиций в процентах

## Установка

### Из исходного кода

```bash
git clone https://github.com/al-siv/color-rs.git
cd color-rs
cargo build --release
```

Исполняемый файл будет находиться в `target/release/color-rs`.

### Требования

- Rust 1.70+
- Cargo

## Использование

### Основная команда - градиент

```bash
color-rs gradient --start-color #FF0000 --start-position 20 --end-color #0000FF --end-position 80
```

### Параметры

- `--start-color <HEX>` - Начальный цвет в формате HEX (например, #FF0000)
- `--start-position <PERCENT>` - Начальная позиция в процентах (0-100)
- `--end-color <HEX>` - Конечный цвет в формате HEX (например, #0000FF)  
- `--end-position <PERCENT>` - Конечная позиция в процентах (0-100)
- `--smoothing <FLOAT>` - Коэффициент сглаживания (по умолчанию: 2.0)
- `--tension <FLOAT>` - Коэффициент напряжения кривой (по умолчанию: 0.5)

### Примеры

#### Базовый градиент от красного к синему

```bash
color-rs gradient --start-color #FF0000 --start-position 0 --end-color #0000FF --end-position 100
```

#### Градиент с пользовательскими позициями

```bash
color-rs gradient --start-color #FF0000 --start-position 20 --end-color #00FF00 --end-position 80
```

#### Градиент с настройкой сглаживания

```bash
color-rs gradient \
  --start-color #FF0000 \
  --start-position 10 \
  --end-color #0000FF \
  --end-position 90 \
  --smoothing 3.0 \
  --tension 0.8
```

### Формат вывода

Программа выводит список процентов с соответствующими HEX-цветами:

```
20%: #FF0000
21%: #FE0605
22%: #FD0C0A
...
80%: #0000FF
```

## Как это работает

1. **Конверсия в LAB**: Входные HEX-цвета конвертируются в цветовое пространство LAB
2. **Сглаженная интерполяция**: Используется комбинация функций smoothstep и степенных функций для создания естественной кривой перехода
3. **Интерполяция в LAB**: Цвета интерполируются покомпонентно в пространстве LAB (L*, a*, b*)
4. **Конверсия обратно в HEX**: Результирующие LAB-цвета конвертируются обратно в HEX

## Цветовое пространство LAB

LAB - это перцептуально-однородное цветовое пространство, где:
- **L*** - яркость (0-100)
- **a*** - позиция между зеленым и красным (-128 до +127)
- **b*** - позиция между синим и желтым (-128 до +127)

Преимущества LAB для градиентов:
- Более равномерные визуальные переходы
- Отсутствие нежелательных цветовых артефактов
- Лучшее соответствие человеческому восприятию цвета

## Алгоритм сглаживания

Программа использует комбинированный алгоритм сглаживания:

1. **Smoothstep**: Базовая S-образная кривая
2. **Степенная функция**: Контроль крутизны перехода через параметр `smoothing`
3. **Напряжение**: Дополнительная модуляция через параметр `tension`

Это создает градиент, который начинается медленно, ускоряется в середине и замедляется к концу.

## Лицензия

MIT License

## Автор

al-siv
